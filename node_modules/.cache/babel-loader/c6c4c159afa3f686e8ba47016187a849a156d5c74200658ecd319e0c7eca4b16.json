{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/raymo/Downloads/DogApi-Project/DogApi-Project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/raymo/Downloads/DogApi-Project/DogApi-Project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/raymo/Downloads/DogApi-Project/DogApi-Project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import NavBarRedirect from\"../Component/NavBarRedirect\";import{Link}from\"react-router-dom\";import Footer from\"../Component/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SearchBreed(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dogs=_useState2[0],setDogs=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var _useState5=useState(\"false\"),_useState6=_slicedToArray(_useState5,2),searched=_useState6[0],setSearched=_useState6[1];//Get all the breeds on the page\nuseEffect(function(){var fetchBreed=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://api.thedogapi.com/v1/breeds?limit=12\",{//limit to 21 images populated\nmethod:\"GET\",headers:{\"Content-Type\":\"application/json\",\"x-api-key\":\"live_Xv1NIDcHuYJfH9CnI39Kwmzb0AV6tkxTCQSmsLIaP60jsnCvV9X0T8NZc5Zbl1ak\"}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setDogs(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchBreed(){return _ref.apply(this,arguments);};}();fetchBreed();},[]);//--------------------------------------------------------\n// Search for a specific dog to populate\nfunction handleUserChange(event){var userInput=event.target.value;setUserInput(userInput);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}//--------------------------------------------------------\n//When user backspace no input it pop up dog images again\nfunction _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return fetch(\"https://api.thedogapi.com/v1/breeds/search?q=\".concat(userInput),{//limit to 21 images populated\nmethod:\"GET\",headers:{\"Content-Type\":\"application/json\",\"x-api-key\":\"live_Xv1NIDcHuYJfH9CnI39Kwmzb0AV6tkxTCQSmsLIaP60jsnCvV9X0T8NZc5Zbl1ak\"}});case 4:res=_context2.sent;_context2.next=7;return res.json();case 7:data=_context2.sent;setDogs(data);setSearched(true);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[1,12]]);}));return _handleSubmit.apply(this,arguments);}var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),originalData=_useState8[0],setOriginalData=_useState8[1];useEffect(function(){fetch(\"https://api.thedogapi.com/v1/breeds/?limit=12\").then(function(res){return res.json();}).then(function(data){setOriginalData(data);});},[]);var handleClearUser=function handleClearUser(event){var userInput=event.target.value;if(userInput.length===0){setDogs(originalData);}};//--------------------------------------------------------\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"container\",children:[/*#__PURE__*/_jsx(NavBarRedirect,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"search-title mt-12\",children:\"Discover Your Perfect Companion\"}),/*#__PURE__*/_jsx(\"form\",{className:\"mx-auto mt-10\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"input\",{onChange:handleUserChange,value:userInput,name:\"search\",id:\"search\",type:\"text\",placeholder:\"Search for a dog breed\",className:\"py-3 rounded shadow w-3/4 mt-12 indent-6\",onKeyUp:handleClearUser})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid: cols-1 md:grid-cols-2 lg:grid-cols-3 gap-16 my-12 p-8 text-white mt-30\",children:!searched?dogs.map(function(dog){return/*#__PURE__*/_jsx(Link,{to:\"/\".concat(dog.name),id:\"click-tiles\",className:\"dog-card-color p-4 rounded px-0 pt-0 hover:bg-white-600 hover:text-white transition duration-300 hover:scale-110\",children:/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"md:h-72 w-full object-cover\",src:\"https://cdn2.thedogapi.com/images/\".concat(dog.reference_image_id,\".jpg\"),alt:dog.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mt-6\",children:dog.name}),/*#__PURE__*/_jsx(\"p\",{children:dog.bred_for})]})},dog.id);}):/*#__PURE__*/_jsx(_Fragment,{children:dogs.map(function(dog){return/*#__PURE__*/_jsx(Link,{to:\"/\".concat(dog.name),id:\"click-tiles\",className:\"dog-card-color p-4 rounded px-0 pt-0 hover:bg-white-600 hover:text-white transition duration-300 hover:scale-110\",children:/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"md:h-72 w-full object-cover\",src:\"https://cdn2.thedogapi.com/images/\".concat(dog.reference_image_id,\".jpg\"),alt:dog.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mt-6\",children:dog.name}),/*#__PURE__*/_jsx(\"p\",{children:dog.bred_for})]})},dog.id);})})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default SearchBreed;","map":{"version":3,"names":["useEffect","useState","NavBarRedirect","Link","Footer","SearchBreed","dogs","setDogs","userInput","setUserInput","searched","setSearched","fetchBreed","fetch","method","headers","res","json","data","console","log","handleUserChange","event","target","value","handleSubmit","preventDefault","originalData","setOriginalData","then","handleClearUser","length","map","dog","name","reference_image_id","bred_for","id"],"sources":["C:/Users/raymo/Downloads/DogApi-Project/DogApi-Project/src/Webpages/SearchBreed.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport NavBarRedirect from \"../Component/NavBarRedirect\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Footer from \"../Component/Footer\";\r\n\r\nfunction SearchBreed() {\r\n  const [dogs, setDogs] = useState([]);\r\n  const [userInput, setUserInput] = useState(\"\");\r\n  const [searched, setSearched] = useState(\"false\");\r\n\r\n  //Get all the breeds on the page\r\n  useEffect(() => {\r\n    const fetchBreed = async () => {\r\n      try {\r\n        const res = await fetch(\"https://api.thedogapi.com/v1/breeds?limit=12\", {//limit to 21 images populated\r\n            method: \"GET\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              \"x-api-key\":\r\n                \"live_Xv1NIDcHuYJfH9CnI39Kwmzb0AV6tkxTCQSmsLIaP60jsnCvV9X0T8NZc5Zbl1ak\",\r\n            },\r\n          }\r\n        );\r\n        const data = await res.json();\r\n        setDogs(data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchBreed();\r\n  }, []);\r\n  //--------------------------------------------------------\r\n\r\n\r\n  // Search for a specific dog to populate\r\n  function handleUserChange(event) {\r\n    const userInput = event.target.value;\r\n    setUserInput(userInput);\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    try {\r\n      const res = await fetch(\r\n        `https://api.thedogapi.com/v1/breeds/search?q=${userInput}`,\r\n        {\r\n          //limit to 21 images populated\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"x-api-key\":\r\n              \"live_Xv1NIDcHuYJfH9CnI39Kwmzb0AV6tkxTCQSmsLIaP60jsnCvV9X0T8NZc5Zbl1ak\",\r\n          },\r\n        }\r\n      );\r\n      const data = await res.json();\r\n      setDogs(data);\r\n      setSearched(true);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  //--------------------------------------------------------\r\n\r\n\r\n\r\n  //When user backspace no input it pop up dog images again\r\n  const [originalData, setOriginalData] = useState([]);\r\n  useEffect(() => {\r\n    fetch(\"https://api.thedogapi.com/v1/breeds/?limit=12\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setOriginalData(data);\r\n      });\r\n  }, []);\r\n\r\n  const handleClearUser = (event) => {\r\n    const userInput = event.target.value;\r\n    if (userInput.length === 0) {\r\n      setDogs(originalData);\r\n    }\r\n  };\r\n  //--------------------------------------------------------\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\" id=\"container\">\r\n        <NavBarRedirect></NavBarRedirect>\r\n        \r\n        <h1 className=\"search-title mt-12\">Discover Your Perfect Companion</h1>\r\n        <form className=\"mx-auto mt-10\" onSubmit={handleSubmit}>\r\n          <input\r\n            onChange={handleUserChange}\r\n            value={userInput}\r\n            name=\"search\"\r\n            id=\"search\"\r\n            type=\"text\"\r\n            placeholder=\"Search for a dog breed\"\r\n            className=\"py-3 rounded shadow w-3/4 mt-12 indent-6\"\r\n            onKeyUp={handleClearUser}\r\n          ></input>\r\n        </form>\r\n       \r\n        <div className=\"grid grid: cols-1 md:grid-cols-2 lg:grid-cols-3 gap-16 my-12 p-8 text-white mt-30\">\r\n          {/* Return true when the user submits a search query and the second API call is made, it maps over the new \"dogs\" state which now contains the search results and displays the search results */}\r\n          {!searched ? (\r\n            dogs.map((dog) => (\r\n              <Link\r\n                to={`/${dog.name}`}\r\n                key={dog.id}\r\n                id=\"click-tiles\"\r\n                className=\"dog-card-color p-4 rounded px-0 pt-0 hover:bg-white-600 hover:text-white transition duration-300 hover:scale-110\"\r\n              >\r\n                <article>\r\n                  <img\r\n                    className=\"md:h-72 w-full object-cover\"\r\n                    src={`https://cdn2.thedogapi.com/images/${dog.reference_image_id}.jpg`}\r\n                    alt={dog.name}\r\n                  ></img>\r\n                  <h3 className=\"font-bold mt-6\">{dog.name}</h3>\r\n                  <p>{dog.bred_for}</p>\r\n                </article>\r\n              </Link>\r\n            ))\r\n          ) : (\r\n            <>\r\n              {/* // Return this when user is just looking at the card tile with api data */}\r\n              {dogs.map((dog) => (\r\n                <Link\r\n                  to={`/${dog.name}`}\r\n                  key={dog.id}\r\n                  id=\"click-tiles\"\r\n                  className=\"dog-card-color p-4 rounded px-0 pt-0 hover:bg-white-600 hover:text-white transition duration-300 hover:scale-110\"\r\n                >\r\n                  <article>\r\n                    <img\r\n                      className=\"md:h-72 w-full object-cover\"\r\n                      src={`https://cdn2.thedogapi.com/images/${dog.reference_image_id}.jpg`}\r\n                      alt={dog.name}\r\n                    ></img>\r\n                    <h3 className=\"font-bold mt-6\">{dog.name}</h3>\r\n                    <p>{dog.bred_for}</p>\r\n                  </article>\r\n                </Link>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Footer></Footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBreed;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}